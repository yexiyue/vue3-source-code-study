{
  "version": 3,
  "sources": ["../src/index.ts", "../src/nodeOps.ts", "../src/modules/attr.ts", "../src/modules/class.ts", "../src/modules/event.ts", "../src/modules/style.ts", "../src/patchProp.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/h.ts"],
  "sourcesContent": ["import { nodeOps } from \"./nodeOps\";\r\nimport { patchProp } from \"./patchProp\";\r\nimport {createRenderer} from '@vue/runtime-core'\r\nexport const renderOptions=Object.assign(nodeOps,{patchProp})\r\n\r\n//createRenderer(renderOptions).render(h('h1','hello'),document.getElementById('app'))\r\n//console.log(renderOptions)\r\n\r\n//\u8BED\u6CD5\u7CD6\uFF0C\u6E32\u67D3\u865A\u62DFDOM\u3002\u865A\u62DFDOM\uFF0C\u548C\u6E32\u67D3\u90FD\u4E0E\u5E73\u53F0\u65E0\u5173\r\nexport function render(vnode,container){\r\n  //\u5728\u521B\u5EFA\u6E32\u67D3\u5668\u7684\u65F6\u5019\u4F20\u5165\u9009\u9879\r\n  createRenderer(renderOptions).render(vnode,container)\r\n}\r\n\r\n//\u66B4\u9732runtime-core\u6A21\u5757\u7684\u65B9\u6CD5\r\nexport * from '@vue/runtime-core'\r\n\r\n/**\r\n * runtime-dom\u672C\u8D28\u4E0A\u5565\u4E5F\u6CA1\u505A\uFF0C\u53EA\u4E0D\u8FC7\u5C01\u88C5\u4E86\u4E00\u4E9B\u5E73\u53F0\u76F8\u5173\u7684\u4EE3\u7801\r\n */", "export const nodeOps={\r\n  //\u589E\u5220\u6539\u67E5\r\n  insert(child:Node,parent:Node,anchor:Node=null){\r\n    parent.insertBefore(child,anchor)\r\n  },\r\n  remove(child:Node){//\u5220\u9664\u8282\u70B9\r\n    const parentNode=child.parentNode;\r\n    if(parentNode){\r\n      parentNode.removeChild(child)\r\n    }\r\n  },\r\n  //\u6587\u672C\u8282\u70B9\uFF0C\u5143\u7D20\u4E2D\u7684\u5185\u5BB9\r\n  setElementText(el:Node,text){\r\n    el.textContent=text\r\n  },\r\n  setText(node:Node,text){//document.createTextNode()\r\n    node.nodeValue=text\r\n  },\r\n  querySelector(selector:string){\r\n    return document.querySelector(selector)\r\n  },\r\n  //\u67E5\u627E\u7236\u8282\u70B9\r\n  parentNode(node:Node){\r\n    return node.parentElement\r\n  },\r\n  //\u67E5\u627E\u540C\u80DE\r\n  nextSibling(node:Node){\r\n    return node.nextSibling\r\n  },\r\n  //\u521B\u5EFA\r\n  createElement(tagName:keyof HTMLElementTagNameMap){\r\n    return document.createElement(tagName)\r\n  },\r\n  createText(text:string){\r\n    return document.createTextNode(text)\r\n  }\r\n}", "export function patchAttr(el:HTMLElement,key,nextValue){\r\n  if(nextValue){\r\n    el.setAttribute(key,nextValue)\r\n  }else{\r\n    el.removeAttribute(key)\r\n  }\r\n}", "export function patchClass(el:HTMLElement,nextValue){\r\n  if(nextValue==null){\r\n    el.removeAttribute('class')//\u4E0D\u9700\u8981class\u76F4\u63A5\u79FB\u9664\r\n  }else{\r\n    //\u76F4\u63A5\u8986\u76D6\r\n    el.className=nextValue\r\n  }\r\n}", "function createInvoker(callback){\r\n\r\n  //\u5999\u554A\u76F4\u63A5\u6DFB\u52A0\u51FD\u6570\u5C5E\u6027\u4FDD\u5B58\u7528\u6237\u4F20\u7684\u56DE\u8C03\u51FD\u6570\r\n  const invoker:any=(e)=>invoker.value(e)\r\n  //\u6BCF\u6B21\u66F4\u65B0\u5C31\u4E0D\u7528\u518D\u79FB\u9664\u76D1\u542C\u518D\u91CD\u65B0\u6DFB\u52A0\u76D1\u542C\u4E86\uFF0C\u76F4\u63A5\u4FEE\u6539value\u503C\r\n  invoker.value=callback\r\n  \r\n  return invoker//\u76F8\u5F53\u4E8E\u95ED\u5305\r\n}\r\n\r\nexport function patchEvent(el,eventName:string,nextValue){\r\n  //\u5148\u79FB\u9664\u518D\u7ED1\u5B9A\u6BD4\u8F83\u8017\u8D39\u6027\u80FD\r\n  //\u4E14\u770Bvue3\u7684\u4F18\u5316\r\n  let invokers=el._vel||(el.vel={})//\u7F13\u5B58\u5230\u4E86dom\u4E0A\r\n  //\u76F8\u5F53\u4E8E\u7F13\u5B58\r\n  let exist=invokers[eventName]\r\n  if(exist && nextValue){\r\n    //\u76F4\u63A5\u4FEE\u6539\uFF0C\u6CA1\u6709\u5378\u8F7D\u76D1\u542C,nextValue\u4E0D\u80FD\u4E3A\u7A7A\r\n    //\u6362\u7ED1\u64CD\u4F5C\u56E0\u4E3Ainvoker\u662F\u4E00\u4E2A\u51FD\u6570\u91CC\u9762\u8C03\u7528\u7684invoker.value(e)\uFF0C\u53EF\u4EE5\u770B\u6210\u662F\u95ED\u5305\uFF0C\u6211\u4EEC\u76F4\u63A5\u4FEE\u6539value\u503C\r\n    //\u5C31\u80FD\u5B8C\u6210\u6362\u7ED1\u64CD\u4F5C\r\n    exist.value=nextValue\r\n  }else{\r\n    //onClick==>click\r\n    let event=eventName.slice(2).toLowerCase()\r\n    if(nextValue){\r\n      //\u6CA1\u6709\u7ED1\u5B9A\u8FC7\uFF0C\u76F4\u63A5\u76D1\u542C,\u987A\u4FBF\u7F13\u5B58\u4E00\u4E0B\r\n      const invoker=invokers[eventName]=createInvoker(nextValue)\r\n      el.addEventListener(event,invoker)\r\n    }else if(exist){\r\n      //\u5982\u679C\u6709\u65E7\u503C\u76F4\u63A5\u79FB\u9664\r\n      el.removeEventListener(event,exist)\r\n      //\u6E05\u7406\u7F13\u5B58\r\n      invokers[eventName]=undefined\r\n    }\r\n  }\r\n}", "export function patchStyle(el:HTMLElement,preValue,nextValue){\r\n  //\u6837\u5F0F\u9700\u8981\u6BD4\u5BF9\u5DEE\u5F02\r\n  for(let i in nextValue){//\u65B0\u7684\u76F4\u63A5\u8986\u76D6\r\n    el.style[i]=nextValue[i]\r\n  }\r\n  if(preValue){\r\n    for(let i in preValue){\r\n      //\u5982\u679C\u65E7\u503C\u6709\u65B0\u503C\u6CA1\u6709\u76F4\u63A5\u8BBE\u7F6E\u4E3Anull\r\n      if(nextValue[i]==null){\r\n        el.style[i]=null\r\n      }\r\n    }\r\n  }\r\n}", "import { patchAttr } from \"./modules/attr\";\r\nimport { patchClass } from \"./modules/class\";\r\nimport { patchEvent } from \"./modules/event\";\r\nimport { patchStyle } from \"./modules/style\";\r\n\r\n//dom\u5C5E\u6027\u7684\u76F8\u5173\u64CD\u4F5C\r\nexport function patchProp(el:HTMLElement,key,preValue,nextValue){\r\n  //1.\u7C7B\u540D el.className\r\n  if(key==='class'){\r\n    patchClass(el,nextValue)\r\n  }else if(key==='style'){//\u6837\u5F0F el.style\r\n    patchStyle(el,preValue,nextValue)\r\n  }else if(/^on[A-Z]/.test(key)){//events\r\n    patchEvent(el,key,nextValue)\r\n  }else{//\u666E\u901A\u5C5E\u6027\r\n    patchAttr(el,key,nextValue)\r\n  }\r\n}", "//\u81EA\u5B9A\u4E49\u6E32\u67D3\u5668\r\nexport function createRenderer(renderOptions){\r\n  \r\n  const render=(vnode,container)=>{//\u6E32\u67D3\u8FC7\u7A0B\u5C31\u662F\u8C03\u7528\u4F20\u5165\u7684renderOptions\u6765\u6E32\u67D3\r\n\r\n  }\r\n  return {\r\n    render\r\n  }\r\n}", "export function h(){\r\n  \r\n}"],
  "mappings": "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",
  "names": []
}
